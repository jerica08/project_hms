<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>System Settings - HMS Admin</title>
    <link rel="stylesheet" href="../assets/css/dashboard-common.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        .settings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        .settings-section {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 1px solid #e2e8f0;
        }
        .section-icon {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            background: #3b82f6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.2rem;
        }
        .section-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: #1f2937;
        }
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-bottom: 1px solid #f3f4f6;
        }
        .setting-item:last-child {
            border-bottom: none;
        }
        .setting-info {
            flex: 1;
        }
        .setting-label {
            font-weight: 500;
            color: #1f2937;
            margin-bottom: 0.25rem;
        }
        .setting-description {
            font-size: 0.8rem;
            color: #6b7280;
        }
        .setting-control {
            margin-left: 1rem;
        }
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 24px;
        }
        .slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .slider {
            background-color: #3b82f6;
        }
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        .form-input {
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 5px;
            font-size: 0.9rem;
            width: 150px;
        }
        .backup-status {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }
        .status-indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }
        .status-success { background: #22c55e; }
        .status-warning { background: #f59e0b; }
        .status-error { background: #ef4444; }
        .maintenance-schedule {
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 5px;
            padding: 1rem;
            margin-top: 1rem;
        }
        .schedule-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            border-bottom: 1px solid #e2e8f0;
        }
        .schedule-item:last-child {
            border-bottom: none;
        }
        .action-buttons {
            display: flex;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
        }
    </style>
</head>
<body class="admin-theme">
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <h1><i class="fas fa-hospital"></i> HMS - System Settings</h1>
            </div>
            <div class="user-info">
                <div class="user-avatar">AD</div>
                <div>
                    <div style="font-weight: 600;">Dr. Admin Smith</div>
                    <div style="font-size: 0.9rem; opacity: 0.8;">Hospital Administrator</div>
                </div>
                <button class="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </button>
            </div>
        </div>
    </header>

    <div class="main-container">
        <nav class="sidebar">
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="admin-dashboard.html" class="nav-link">
                        <i class="fas fa-tachometer-alt nav-icon"></i>
                        Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin-user-management.html" class="nav-link">
                        <i class="fas fa-users nav-icon"></i>
                        User Management
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin-analytics.html" class="nav-link">
                        <i class="fas fa-chart-bar nav-icon"></i>
                        Analytics & Reports
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin-system-settings.html" class="nav-link active">
                        <i class="fas fa-cogs nav-icon"></i>
                        System Settings
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin-security.html" class="nav-link">
                        <i class="fas fa-shield-alt nav-icon"></i>
                        Security & Access
                    </a>
                </li>
                <li class="nav-item">
                    <a href="admin-audit-logs.html" class="nav-link">
                        <i class="fas fa-clipboard-list nav-icon"></i>
                        Audit Logs
                    </a>
                </li>
            </ul>
        </nav>

        <main class="content">
            <h1 class="page-title">System Settings</h1>

            <div class="settings-grid">
                <!-- General Settings -->
                <div class="settings-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-cog"></i>
                        </div>
                        <div>
                            <div class="section-title">General Settings</div>
                        </div>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Hospital Name</div>
                            <div class="setting-description">Display name for the hospital</div>
                        </div>
                        <div class="setting-control">
                            <input type="text" class="form-input" value="General Hospital" id="hospitalName">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Time Zone</div>
                            <div class="setting-description">System time zone setting</div>
                        </div>
                        <div class="setting-control">
                            <select class="form-input" id="timeZone">
                                <option value="UTC">UTC</option>
                                <option value="EST" selected>Eastern Time</option>
                                <option value="PST">Pacific Time</option>
                                <option value="CST">Central Time</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Language</div>
                            <div class="setting-description">Default system language</div>
                        </div>
                        <div class="setting-control">
                            <select class="form-input" id="language">
                                <option value="en" selected>English</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Auto-Save Interval</div>
                            <div class="setting-description">Automatic save frequency (minutes)</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" class="form-input" value="5" min="1" max="60" id="autoSave">
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary btn-small" onclick="saveGeneralSettings()">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="resetGeneralSettings()">
                            <i class="fas fa-undo"></i> Reset
                        </button>
                    </div>
                </div>

                <!-- Notification Settings -->
                <div class="settings-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-bell"></i>
                        </div>
                        <div>
                            <div class="section-title">Notification Settings</div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Email Notifications</div>
                            <div class="setting-description">Send system alerts via email</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" checked id="emailNotifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">SMS Notifications</div>
                            <div class="setting-description">Send critical alerts via SMS</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" id="smsNotifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Push Notifications</div>
                            <div class="setting-description">Browser push notifications</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" checked id="pushNotifications">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Alert Frequency</div>
                            <div class="setting-description">How often to send alerts</div>
                        </div>
                        <div class="setting-control">
                            <select class="form-input" id="alertFrequency">
                                <option value="immediate" selected>Immediate</option>
                                <option value="hourly">Hourly</option>
                                <option value="daily">Daily</option>
                            </select>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary btn-small" onclick="saveNotificationSettings()">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button class="btn btn-warning btn-small" onclick="testNotifications()">
                            <i class="fas fa-test-tube"></i> Test Notifications
                        </button>
                    </div>
                </div>

                <!-- Backup & Recovery -->
                <div class="settings-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-database"></i>
                        </div>
                        <div>
                            <div class="section-title">Backup & Recovery</div>
                        </div>
                    </div>

                    <div class="backup-status">
                        <div class="status-indicator status-success"></div>
                        <span>Last backup: Today at 2:00 AM</span>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Automatic Backups</div>
                            <div class="setting-description">Enable scheduled backups</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" checked id="autoBackup">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Backup Frequency</div>
                            <div class="setting-description">How often to create backups</div>
                        </div>
                        <div class="setting-control">
                            <select class="form-input" id="backupFrequency">
                                <option value="daily" selected>Daily</option>
                                <option value="weekly">Weekly</option>
                                <option value="monthly">Monthly</option>
                            </select>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Retention Period</div>
                            <div class="setting-description">How long to keep backups (days)</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" class="form-input" value="30" min="7" max="365" id="retentionPeriod">
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-success btn-small" onclick="createBackup()">
                            <i class="fas fa-save"></i> Create Backup Now
                        </button>
                        <button class="btn btn-warning btn-small" onclick="restoreBackup()">
                            <i class="fas fa-undo"></i> Restore Backup
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="downloadBackup()">
                            <i class="fas fa-download"></i> Download
                        </button>
                    </div>
                </div>

                <!-- System Maintenance -->
                <div class="settings-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-tools"></i>
                        </div>
                        <div>
                            <div class="section-title">System Maintenance</div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Maintenance Mode</div>
                            <div class="setting-description">Enable system maintenance mode</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" id="maintenanceMode">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="maintenance-schedule">
                        <h4 style="margin-bottom: 1rem;">Scheduled Maintenance</h4>
                        <div class="schedule-item">
                            <span>Database Optimization</span>
                            <span>Weekly - Sunday 2:00 AM</span>
                        </div>
                        <div class="schedule-item">
                            <span>Log Cleanup</span>
                            <span>Daily - 1:00 AM</span>
                        </div>
                        <div class="schedule-item">
                            <span>System Updates</span>
                            <span>Monthly - 1st Sunday 3:00 AM</span>
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary btn-small" onclick="runMaintenance()">
                            <i class="fas fa-play"></i> Run Maintenance
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="scheduleMaintenance()">
                            <i class="fas fa-calendar"></i> Schedule
                        </button>
                    </div>
                </div>

                <!-- Performance Settings -->
                <div class="settings-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-tachometer-alt"></i>
                        </div>
                        <div>
                            <div class="section-title">Performance Settings</div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Cache Enabled</div>
                            <div class="setting-description">Enable system caching</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" checked id="cacheEnabled">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Cache Duration</div>
                            <div class="setting-description">Cache expiration time (hours)</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" class="form-input" value="24" min="1" max="168" id="cacheDuration">
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Session Timeout</div>
                            <div class="setting-description">User session timeout (minutes)</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" class="form-input" value="30" min="5" max="480" id="sessionTimeout">
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary btn-small" onclick="savePerformanceSettings()">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button class="btn btn-warning btn-small" onclick="clearCache()">
                            <i class="fas fa-trash"></i> Clear Cache
                        </button>
                    </div>
                </div>

                <!-- Integration Settings -->
                <div class="settings-section">
                    <div class="section-header">
                        <div class="section-icon">
                            <i class="fas fa-plug"></i>
                        </div>
                        <div>
                            <div class="section-title">Integration Settings</div>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">API Access</div>
                            <div class="setting-description">Enable external API access</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" checked id="apiAccess">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Third-party Integrations</div>
                            <div class="setting-description">Allow third-party connections</div>
                        </div>
                        <div class="setting-control">
                            <label class="toggle-switch">
                                <input type="checkbox" id="thirdPartyIntegrations">
                                <span class="slider"></span>
                            </label>
                        </div>
                    </div>

                    <div class="setting-item">
                        <div class="setting-info">
                            <div class="setting-label">Rate Limiting</div>
                            <div class="setting-description">API rate limit (requests/hour)</div>
                        </div>
                        <div class="setting-control">
                            <input type="number" class="form-input" value="1000" min="100" max="10000" id="rateLimit">
                        </div>
                    </div>

                    <div class="action-buttons">
                        <button class="btn btn-primary btn-small" onclick="saveIntegrationSettings()">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                        <button class="btn btn-secondary btn-small" onclick="generateApiKey()">
                            <i class="fas fa-key"></i> Generate API Key
                        </button>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        function saveGeneralSettings() {
            alert('General settings saved successfully!');
        }

        function resetGeneralSettings() {
            if(confirm('Reset all general settings to default values?')) {
                alert('Settings reset to defaults');
            }
        }

        function saveNotificationSettings() {
            alert('Notification settings saved successfully!');
        }

        function testNotifications() {
            alert('Test notification sent!');
        }

        function createBackup() {
            if(confirm('Create a backup now? This may take several minutes.')) {
                alert('Backup started...');
            }
        }

        function restoreBackup() {
            if(confirm('Restore from backup? This will overwrite current data.')) {
                alert('Opening backup restore dialog...');
            }
        }

        function downloadBackup() {
            alert('Downloading latest backup...');
        }

        function runMaintenance() {
            if(confirm('Run system maintenance now? This may affect system performance.')) {
                alert('Maintenance started...');
            }
        }

        function scheduleMaintenance() {
            alert('Opening maintenance scheduler...');
        }

        function savePerformanceSettings() {
            alert('Performance settings saved successfully!');
        }

        function clearCache() {
            if(confirm('Clear all system cache? This may temporarily slow down the system.')) {
                alert('Cache cleared successfully!');
            }
        }

        function saveIntegrationSettings() {
            alert('Integration settings saved successfully!');
        }

        function generateApiKey() {
            if(confirm('Generate a new API key? This will invalidate the current key.')) {
                alert('New API key generated: hms_' + Math.random().toString(36).substr(2, 16));
            }
        }

        // Logout functionality
        document.querySelector('.logout-btn').addEventListener('click', function() {
            if(confirm('Are you sure you want to logout?')) {
                window.location.href = '../index.php';
            }
        });
    </script>
</body>
</html>
